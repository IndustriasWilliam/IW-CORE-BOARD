/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/screensaver_screen/ScreenSaverViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

ScreenSaverViewBase::ScreenSaverViewBase() :
    buttonCallback(this, &ScreenSaverViewBase::buttonCallbackHandler)
{
    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_SCREENSAVER_BACKGROUND_ID));
    add(background);

    logo.setXY(59, 90);
    logo.setBitmap(touchgfx::Bitmap(BITMAP_TGFX_SHADOW_LOGO_ID));
    add(logo);

    quitButton.setXY(415, 216);
    quitButton.setBitmaps(touchgfx::Bitmap(BITMAP_GOTOMENU_ID), touchgfx::Bitmap(BITMAP_GOTOMENU_ID));
    quitButton.setAction(buttonCallback);
    add(quitButton);
}

ScreenSaverViewBase::~ScreenSaverViewBase()
{

}

void ScreenSaverViewBase::setupScreen()
{

}

void ScreenSaverViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &quitButton)
    {
        //goToWasherScreen
        //When quitButton clicked call virtual function
        //Call endScreenSaverAnimation
        endScreenSaverAnimation();
    
        //logoFadeout
        //When goToWasherScreen completed fade logo
        //Fade logo to alpha:0 with CubicIn easing in 605 ms (36 Ticks)
        logo.clearFadeAnimationEndedAction();
        logo.startFadeAnimation(0, 36, touchgfx::EasingEquations::cubicEaseIn);
    }
}
